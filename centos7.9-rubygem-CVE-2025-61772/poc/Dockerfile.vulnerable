FROM ruby:2.7-alpine

WORKDIR /app

# Install rack (vulnerable version - before 2.2.19)
# Using 2.0.9.0 which is vulnerable
RUN gem install rack -v 2.0.9.0

# Copy the test application
COPY vulnerable_app.rb /app/

# Expose port
EXPOSE 9292

# Run the vulnerable application
CMD ["ruby", "vulnerable_app.rb"]


