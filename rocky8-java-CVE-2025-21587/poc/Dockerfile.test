# Dockerfile for testing VULNERABLE (default) Java on Rocky 8
FROM rockylinux:8

# Install Java and locale support
RUN dnf install -y java-11-openjdk java-11-openjdk-devel glibc-langpack-en && \
    dnf clean all

# Set locale
ENV LANG=en_US.UTF-8 \
    LC_ALL=en_US.UTF-8

# Copy and compile POC
WORKDIR /poc/src
COPY src/*.java ./
RUN javac -encoding UTF-8 *.java

# Default command
CMD ["java", "TLSReflectionPoC"]
